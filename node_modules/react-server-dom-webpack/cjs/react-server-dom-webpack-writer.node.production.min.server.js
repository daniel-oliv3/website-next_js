/** @license React vundefined
 * react-server-dom-webpack-writer.node.production.min.server.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';var h=require("react");function l(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p=JSON.stringify,r=Symbol.for("react.module.reference"),t=60103,u=60107,v=60112,w=60115,x=60116;
if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;t=y("react.element");u=y("react.fragment");v=y("react.forward_ref");w=y("react.memo");x=y("react.lazy")}var z=Array.isArray,A=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function B(a){console.error(a)}
function E(a,c,d){var b=[],e={status:0,fatalError:null,destination:null,bundlerConfig:c,cache:new Map,nextChunkId:0,pendingChunks:0,pingedSegments:b,completedModuleChunks:[],completedJSONChunks:[],completedErrorChunks:[],writtenSymbols:new Map,writtenModules:new Map,onError:void 0===d?B:d,toJSON:function(a,b){return F(e,this,a,b)}};e.pendingChunks++;a=G(e,a);b.push(a);return e}
function H(a,c,d,b){if(null!==d&&void 0!==d)throw Error(l(379));if("function"===typeof a)return a(b);if("string"===typeof a)return[t,a,c,b];if("symbol"===typeof a)return a===u?b.children:[t,a,c,b];if(null!=a&&"object"===typeof a){if(a.$$typeof===r)return[t,a,c,b];switch(a.$$typeof){case v:return a=a.render,a(b,void 0);case w:return H(a.type,c,d,b)}}throw Error(l(351,I(a)));}function J(a,c){var d=a.pingedSegments;d.push(c);1===d.length&&setImmediate(function(){return K(a)})}
function G(a,c){var d={id:a.nextChunkId++,model:c,ping:function(){return J(a,d)}};return d}function L(a){return Object.prototype.toString.call(a).replace(/^\[object (.*)\]$/,function(a,d){return d})}function M(a){var c=JSON.stringify(a);return'"'+a+'"'===c?a:c}function I(a){switch(typeof a){case "string":return JSON.stringify(10>=a.length?a:a.substr(0,10)+"...");case "object":if(z(a))return"[...]";a=L(a);return"Object"===a?"{...}":a;case "function":return"function";default:return String(a)}}
function O(a,c){if(z(a)){for(var d="[",b=0;b<a.length;b++){0<b&&(d+=", ");if(6<b){d+="...";break}var e=a[b];d=""+b===c&&"object"===typeof e&&null!==e?d+O(e):d+I(e)}return d+"]"}d="{";b=Object.keys(a);for(e=0;e<b.length;e++){0<e&&(d+=", ");if(6<e){d+="...";break}var f=b[e];d+=M(f)+": ";var k=a[f];d=f===c&&"object"===typeof k&&null!==k?d+O(k):d+I(k)}return d+"}"}
function F(a,c,d,b){switch(b){case t:return"$";case x:throw Error(l(352));}for(;"object"===typeof b&&null!==b&&b.$$typeof===t;){var e=b;try{b=H(e.type,e.key,e.ref,e.props)}catch(n){if("object"===typeof n&&null!==n&&"function"===typeof n.then)return a.pendingChunks++,a=G(a,b),c=a.ping,n.then(c,c),"@"+a.id.toString(16);P(a,n);a.pendingChunks++;c=a.nextChunkId++;Q(a,c,n);return"@"+c.toString(16)}}if(null===b)return null;if("object"===typeof b){if(b.$$typeof===r){e=b.filepath+"#"+b.name;var f=a.writtenModules,
k=f.get(e);if(void 0!==k)return c[0]===t&&"1"===d?"@"+k.toString(16):"$"+k.toString(16);try{var m=a.bundlerConfig[b.filepath][b.name];a.pendingChunks++;var g=a.nextChunkId++,C=p(m);var D="M"+g.toString(16)+":"+C+"\n";a.completedModuleChunks.push(D);f.set(e,g);return c[0]===t&&"1"===d?"@"+g.toString(16):"$"+g.toString(16)}catch(n){return a.pendingChunks++,c=a.nextChunkId++,Q(a,c,n),"$"+c.toString(16)}}return b}if("string"===typeof b)return a="$"===b[0]||"@"===b[0]?"$"+b:b,a;if("boolean"===typeof b||
"number"===typeof b||"undefined"===typeof b)return b;if("function"===typeof b){if(/^on[A-Z]/.test(d))throw Error(l(374,M(d),O(c)));throw Error(l(375,M(d),b.displayName||b.name||"function",O(c)));}if("symbol"===typeof b){m=a.writtenSymbols;g=m.get(b);if(void 0!==g)return"$"+g.toString(16);g=b.description;if(Symbol.for(g)!==b)throw Error(l(376,b.description,M(d),O(c)));a.pendingChunks++;c=a.nextChunkId++;d=p(g);d="S"+c.toString(16)+":"+d+"\n";a.completedModuleChunks.push(d);m.set(b,c);return"$"+c.toString(16)}if("bigint"===
typeof b)throw Error(l(377,b,M(d),O(c)));throw Error(l(378,typeof b,M(d),O(c)));}function P(a,c){a=a.onError;a(c)}function R(a,c){null!==a.destination?(a.status=2,a.destination.destroy(c)):(a.status=1,a.fatalError=c)}function Q(a,c,d){var b="";try{if(d instanceof Error){var e=String(d.message);b=String(d.stack)}else e="Error: "+d}catch(f){e="An error occurred but serializing the error message failed."}d={message:e,stack:b};c="E"+c.toString(16)+":"+p(d)+"\n";a.completedErrorChunks.push(c)}
function K(a){var c=A.current,d=S;A.current=T;S=a.cache;try{var b=a.pingedSegments;a.pingedSegments=[];for(var e=0;e<b.length;e++){var f=b[e];var k=a;try{for(var m=f.model;"object"===typeof m&&null!==m&&m.$$typeof===t;){var g=m;f.model=m;m=H(g.type,g.key,g.ref,g.props)}var C=f.id,D=p(m,k.toJSON);var n="J"+C.toString(16)+":"+D+"\n";k.completedJSONChunks.push(n)}catch(q){if("object"===typeof q&&null!==q&&"function"===typeof q.then){var N=f.ping;q.then(N,N)}else P(k,q),Q(k,f.id,q)}}null!==a.destination&&
U(a,a.destination)}catch(q){P(a,q),R(a,q)}finally{A.current=c,S=d}}
function U(a,c){"function"===typeof c.cork&&c.cork();try{for(var d=a.completedModuleChunks,b=0;b<d.length;b++)if(a.pendingChunks--,!c.write(d[b])){a.destination=null;b++;break}d.splice(0,b);var e=a.completedJSONChunks;for(b=0;b<e.length;b++)if(a.pendingChunks--,!c.write(e[b])){a.destination=null;b++;break}e.splice(0,b);var f=a.completedErrorChunks;for(b=0;b<f.length;b++)if(a.pendingChunks--,!c.write(f[b])){a.destination=null;b++;break}f.splice(0,b)}finally{"function"===typeof c.uncork&&c.uncork()}"function"===
typeof c.flush&&c.flush();0===a.pendingChunks&&c.end()}function V(a){setImmediate(function(){return K(a)})}function W(a,c){if(1===a.status)a.status=2,c.destroy(a.fatalError);else if(2!==a.status){a.destination=c;try{U(a,c)}catch(d){P(a,d),R(a,d)}}}function X(){throw Error(l(373));}function Y(){if(!S)throw Error(l(384));}
var S=null,T={useMemo:function(a){return a()},useCallback:function(a){return a},useDebugValue:function(){},useDeferredValue:X,useTransition:X,getCacheForType:function(a){if(!S)throw Error(l(380));var c=S.get(a);void 0===c&&(c=a(),S.set(a,c));return c},readContext:X,useContext:X,useReducer:X,useRef:X,useState:X,useInsertionEffect:X,useLayoutEffect:X,useImperativeHandle:X,useEffect:X,useOpaqueIdentifier:X,useMutableSource:X,useSyncExternalStore:X,useCacheRefresh:function(){return Y}};
function Z(a,c){return function(){return W(c,a)}}exports.renderToPipeableStream=function(a,c,d){var b=E(a,c,d?d.onError:void 0),e=!1;V(b);return{pipe:function(a){if(e)throw Error(l(417));e=!0;W(b,a);a.on("drain",Z(a,b));return a}}};
